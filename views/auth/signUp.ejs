<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Ground</title>

    <!-- bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" 
    integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" 
    integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>

    <!-- Font Icon -->
    <link rel="stylesheet" href="../signup_assets/fonts/material-icon/css/material-design-iconic-font.min.css">

    <!-- Main css -->
    <link rel="stylesheet" href="../signup_assets/css/style.css">
</head>
<body>

    <div class="main">

        <section class="signup">
            <!-- <img src="images/signup-bg.jpg" alt=""> -->
            <div class="container">
                <div class="signup-content">
                    <form method="POST" action="/auth/signUp" id="signup-form" class="signup-form" onsubmit="return checking();">
                        <h2 class="form-title">Ground Create account</h2>
                        <div class="form-group">
                            <input type="text" class="form-input" name="inputId" id="inputid" placeholder="아이디"/>
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-input" name="inputPass" id="inputPass" placeholder="비밀번호"/>
                            <span toggle="#password" class="zmdi zmdi-eye field-icon toggle-password"></span>
                        </div>
                        <div class="form-group">
                            <input type="password" class="form-input" name="re_password" id="re_password" placeholder="비밀번호 확인"/>
                        </div>
                        <div class="form-group">
                          <input type="text" class="form-input" name="inputName" id="inputName" placeholder="성함"/>
                        </div>
                        <div class="form-group">
                          <input type="tel" class="form-input" name="inputPhone" id="inputPhone" placeholder="전화번호"/>
                        </div>
                        <div class="form-group">
                            <input type="email" class="form-input" name="inputEmail" id="inputEmail" placeholder="이메일"/>
                        </div>
                        <div class="form-group">
                          <input type="text" class="form-input" name="inputGroup" id="inputGroup" placeholder="소속"/>
                        </div>
                        <div class="form-group" style="margin-top: 40px;">
                            <input type="checkbox" name="agree-term" id="agree-term" class="agree-term"/>
                            <label for="agree-term" class="label-agree-term" ><span><span></span></span><a href="#" class="term-service">약관 동의</a> 확인 이후 동의해주세요!</label>
                            <button type="button" class="btn btn-info fw-bolder" data-bs-toggle="modal" data-bs-target="#signup_modal" style="margin-left: 113px; color: white;">
                                약관동의
                            </button>
                        </div>
                        <div class="form-group">
                            <input type="submit" name="submit" id="submit" class="form-submit" value="Sign up"/>
                        </div>
                    </form>
                    <p class="loginhere">
                        이미 Ground 회원 이신가요?  <a href="/auth/signIn" class="loginhere-link">로그인 하기</a>
                    </p>
                </div>
            </div>
        </section>

    </div>

    <div class="modal fade" id="signup_modal" tabindex="-1" aria-labelledby="accountmodal" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header ">
              <h5 class="modal-title fw-bolder fs-3" id="accountmodal">약관 동의</h5>
            </div>
            <div class="modal-body">
              hello world
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
          </div>
        </div>
    </div>

    <!-- JS -->
    <script src="../signup_assets/vendor/jquery/jquery.min.js"></script>
    <script src="../signup_assets/js/main.js"></script>
</body>
</html>

<script>
  var main;
   $(function(){
        $("#submit").click(function(){
            if(!main){
                alert('중복확인을 해주세요');
                console.log('버튼 눌러라');
                return false;
            }
            else{
                console.log('회원가입 성공');
            }
        });
    })

    function checking(){
        var getMail = RegExp(/^[A-Za-z0-9_\.\-]+@[A-Za-z0-9\-]+\.[A-Za-z0-9\-]+/);
        var getCheck= RegExp(/^[a-zA-Z0-9]{4,12}$/);
        var getName= RegExp(/^[가-힣]+$/);
        var chk = false;

        //blank id
        if($("#inputid").val() == ""){
            alert("아이디를 입력해주시기 바랍니다.");
            $("#inputid").focus();
            return false;
        }

        //check id
        if(!getCheck.test($("#inputid").val())){
            alert("아이디를 다시 입력해주시기 바랍니다.");
            $("#inputid").val("");
            $("#inputid").focus();
            return false;
        }

        //blank name
        if($("#inputName").val() == ""){
            alert("이름을 입력해주시기 바랍니다.");
            $("#inputName").focus();
            return false;
        }
        
        //check name
        if (!getName.test($("#inputName").val())) {
            alert("올바른 이름을 입력해주시기 바랍니다.");
            $("#inputName").val("");
            $("#inputName").focus();
            return false;
        }

        //blank pw
        if($("#inputPass").val() == ""){
            alert("비밀번호를 입력해주시기 바랍니다.");
            $("#inputPass").focus();
            return false;
        }

        //blank pwchk
        if($("#re_password").val() == ""){
            alert("비밀번호 확인칸을 입력해주시기 바랍니다.");
            $("#re_password").focus();
            return false;
        }

        //check pw
        if(!getCheck.test($("#inputPass").val())) {
            alert("올바른 비밀번호를 입력해주시기 바랍니다.");
            $("#inputPass").val("");
            $("#inputPass").focus();
            return false;
        }
        
        //same id and pw
        if ($("#inputid").val()==($("#inputPass").val())) {
            alert("비밀번호와 아이디가 같습니다.");
            $("#inputPass").val("");
        }
        
        //don't same pw and pwchk
        if($("#inputPass").val() != ($("#re_password").val())){ 
            alert("비밀번호가 일치하지 않습니다.");
            $("#inputPass").val("");
            $("#re_password").val("");
            return false;
        }

        //blank email
        if($("#inputEmail").val() == ""){
            alert("이메일을 입력해주시기 바랍니다.");
            $("#inputEmail").focus();
            return false;
        }

        //check email
        if(!getMail.test($("#inputEmail").val())){
            alert("이메일형식에 맞게 입력해주시기 바랍니다.")
            $("#inputEmail").val("");
            $("#inputEmail").focus();
            return false;
        }

        if($("#inputPhone").val() == ""){
            alert("번호를 입력해주시기 바랍니다.");
            $("#inputPhone").focus();
            return false;
        }

        for(var i=0;i<$('[name="agree-term"]').length;i++){
        if($('input:checkbox[name="agree-term"]').eq(i).is(":checked") == true) {
            console.log('확인')
            chk= true;
            break;
            }
        }
 
        if(!chk){
            alert("약관동의를 확인해주시기 바랍니다.");
            return false;
        }
    }
</script>